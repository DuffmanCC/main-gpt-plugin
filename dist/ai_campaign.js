import{d as h,c as m,o,p as I,n as P,A as j,i as E,r as b,z as R,e as s,w as g,a as p,F as _,g as y,k as x,u as r,f as N,t as F,q as G,s as q,x as L}from"./style.js";import{b as O,_ as W,c as C}from"./a-text.vue_vue_type_script_setup_true_lang.js";import{_ as H}from"./a-checkbox.vue_vue_type_script_setup_true_lang.js";import{_ as J}from"./a-switch.vue_vue_type_script_setup_true_lang.js";import{_ as K}from"./a-textarea.vue_vue_type_script_setup_true_lang.js";import{_ as Q,m as U}from"./metabox-body.js";import{c as X}from"./constants.js";const Y=h({__name:"a-pill",props:{selected:{type:Boolean},size:{default:"md"},color:{default:"blue"}},emits:["selected"],setup(w,{emit:u}){const c=u,f=()=>{c("selected")};return(n,d)=>(o(),m("button",{class:P(["text-sm uppercase px-4 border-2 transition-all duration-300 shadow-button transparant hover:text-white cursor-pointer",{"text-brand-blue border-blue-500 hover:bg-blue-500":n.color==="blue","text-purple-700 border-purple-700 hover:bg-purple-700":n.color==="purple","bg-blue-500 text-white!":n.selected&&n.color==="blue","bg-purple-700 text-white!":n.selected&&n.color==="purple","rounded-full py-1":n.size==="md","rounded-lg py-2":n.size==="lg"}]),onClick:I(f,["prevent"])},[j(n.$slots,"default")],2))}}),Z={class:"font-arboria"},ee={class:"flex flex-col gap-2"},ae={class:"flex items-center gap-4"},te={class:"flex gap-8"},ne=h({__name:"ai-campaign",setup(w){const u=E("aiCampaignData");if(!u)throw new Error("aiCampaignData is undefined");const{duration:c,durationValue:f,interest:n,interestValue:d,gdprText:k,gdprTextValue:$,isActive:D,isActiveValue:M,isMandatory:V,isMandatoryValue:B}=u,v=b([]),i=b(d===""?[]:d.split(", ")),t=R({duration:f,interest:d,gdprText:$,isActive:M,isMandatory:B});function T(l){v.value=v.value.filter(a=>a.id!==l)}function S(l){if(i.value.includes(l)){i.value=i.value.filter(a=>a!==l),t.interest=i.value.join(", ");return}i.value=[...i.value,l],t.interest=i.value.join(", ")}return(l,a)=>(o(),m("div",Z,[s(Q,{title:"AI Campaign",hasAdvanced:!1}),s(U,null,{default:g(()=>[s(O,{class:"top-2"},{default:g(()=>[(o(!0),m(_,null,y(v.value,e=>(o(),x(W,{key:e.id,type:e.type,message:e.message,time:e.time,onClose:z=>T(e.id)},null,8,["type","message","time","onClose"]))),128))]),_:1}),s(C,{id:r(c),label:"Duration",type:"number",help:"6-72 months",value:t.duration,onInput:a[0]||(a[0]=e=>t.duration=e),onEnter:a[1]||(a[1]=e=>t.duration=e),min:6,max:72},null,8,["id","value"]),s(C,{id:r(n),label:"Interest",placeholder:"marketing, operational, 3rd party marketing...",help:"Comma separated list of interests.",value:t.interest,onInput:a[2]||(a[2]=e=>t.duration=e),onEnter:a[3]||(a[3]=e=>t.duration=e)},null,8,["id","value"]),s(K,{id:r(k),label:"GDPR text",help:"The text of the GDPR campaign.",value:t.gdprText,onInput:a[4]||(a[4]=e=>t.gdprText=e)},null,8,["id","value"]),p("div",ee,[a[7]||(a[7]=p("div",{class:"uppercase"},"Presets",-1)),p("div",ae,[(o(!0),m(_,null,y(r(X),e=>(o(),x(Y,{onSelected:z=>S(e),selected:i.value.includes(e)},{default:g(()=>[N(F(e),1)]),_:2},1032,["onSelected","selected"]))),256))])]),p("div",te,[s(J,{id:r(D),value:t.isActive,label:"Active",onSwitch:a[5]||(a[5]=e=>t.isActive=e)},null,8,["id","value"]),s(H,{id:r(V),value:t.isMandatory,position:"col",label:"Mandatory",onChange:a[6]||(a[6]=e=>t.isMandatory=e)},null,8,["id","value"])])]),_:1})]))}});let A={};A=window.ai_campaign.data;const ie=G({setup(){L("aiCampaignData",A)},render:()=>q(ne)});ie.mount("#main_ai_campaign");
