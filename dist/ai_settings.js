import{d as h,c as _,o as p,a,t as z,z as C,_ as B,i as j,r,k as x,w as o,e as n,F as G,g as K,f as i,u as k,q,s as U,x as V}from"./style.js";import{b as E,_ as F,c as g}from"./a-text.vue_vue_type_script_setup_true_lang.js";import{_ as y,a as J,d as W}from"./a-select.vue_vue_type_script_setup_true_lang.js";import{a as H}from"./constants.js";import{a as A}from"./tools.js";const M={class:"tw:font-arboria tw:relative tw:mt-8 tw:mr-8 tw:flex tw:flex-col tw:gap-2"},Q={class:"tw:font-bold tw:text-2xl tw:mb-2"},X={class:"tw:flex tw:flex-col tw:gap-6 tw:py-4"},Y=h({__name:"a-page-wrapper",props:{pageTitle:{}},setup(w){return(s,v)=>(p(),_("div",M,[a("h1",Q,z(s.pageTitle),1),a("div",X,[C(s.$slots,"default")])]))}}),Z={},ee={class:"tw:p-6 tw:bg-white tw:rounded-xl tw:flex tw:flex-col tw:gap-8"};function te(w,s){return p(),_("section",ee,[C(w.$slots,"default")])}const b=B(Z,[["render",te]]),ae={class:"tw:flex tw:flex-col tw:gap-3"},ne={class:"tw:mt-4"},se={class:"tw:flex tw:flex-col tw:gap-4"},oe={class:"tw:mt-4"},ie={class:"tw:flex tw:flex-col tw:gap-4"},le=h({__name:"ai-settings",setup(w){const s=j("aiSettingsData");if(!s)throw new Error("aiSettingsData is undefined");const{openAiApiKey:v,openAiOrg:S,pineconeApiKey:O,ajaxAction:D,ajaxNonce:R,ajaxUrl:T,gdprSemaphore:I,pageTitle:L}=s,f=r(v),u=r(S),c=r(O),P=r(I),l=r([]);async function m(d){const e=await W(T,D,R,JSON.stringify(d));e.success?A(l,"success",e.data.message):A(l,"error",e.error,0)}function N(d){l.value=l.value.filter(e=>e.id!==d)}return(d,e)=>(p(),x(Y,{pageTitle:k(L)},{default:o(()=>[n(E,{class:"tw:top-12"},{default:o(()=>[(p(!0),_(G,null,K(l.value,t=>(p(),x(F,{key:t.id,type:t.type,message:t.message,time:t.time,onClose:pe=>N(t.id)},null,8,["type","message","time","onClose"]))),128))]),_:1}),n(b,null,{default:o(()=>[a("div",ae,[e[7]||(e[7]=a("h2",{class:"tw:text-3xl! tw:m-0! tw:font-normal!"},"Pineconne",-1)),e[8]||(e[8]=a("p",{class:"tw:text-xl! tw:m-0! tw:font-light"},[i(" Create an account on "),a("a",{href:"https://www.pinecone.io/",class:"tw:text-blue-500 tw:underline",target:"_blank",rel:"noopener noreferrer"}," Pinecone.io "),i(" and paste the api key below. ")],-1)),n(g,{id:"pinecone_api_key",label:"Pinecone api key",value:c.value,howToLink:"#",createLink:"#",onInput:e[0]||(e[0]=t=>c.value=t)},null,8,["value"]),a("div",ne,[n(y,{onClick:e[1]||(e[1]=t=>m({pinecone_api_key:c.value}))},{default:o(()=>e[6]||(e[6]=[i(" Update ")])),_:1})])]),a("div",se,[e[10]||(e[10]=a("h2",{class:"tw:text-3xl! tw:m-0! tw:font-normal!"},"Open-AI",-1)),e[11]||(e[11]=a("p",{class:"tw:text-xl! tw:m-0! tw:font-light"},[i(" Create an account on "),a("a",{href:"https://openai.com/",class:"tw:text-blue-500 tw:underline",target:"_blank",rel:"noopener noreferrer"}," OpenAI.com "),i(" and paste the api key and organization below. ")],-1)),n(g,{id:"openai_api_key",label:"Open AI api key",value:f.value,howToLink:"#",createLink:"#",onInput:e[2]||(e[2]=t=>f.value=t)},null,8,["value"]),n(g,{id:"openai_organization",label:"Open AI api organization",value:u.value,howToLink:"#",createLink:"#",onInput:e[3]||(e[3]=t=>u.value=t)},null,8,["value"]),a("div",oe,[n(y,{onClick:e[4]||(e[4]=t=>m({openai_api_key:f.value,openai_organization:u.value}))},{default:o(()=>e[9]||(e[9]=[i(" Update ")])),_:1})])])]),_:1}),n(b,null,{default:o(()=>[a("div",ie,[n(J,{id:"gdpr_semaphore",label:"GDPR Configuration",class:"tw:max-w-lg",options:k(H),selectedOption:P.value,help:`
            <ul><li><span class='tw:font-semibold'>Always:</span> force AiChatter to always require GDPR for the chatter and for the lead.</li>
              <li><span class='tw:font-semibold'>Never:</span> force AiChatter to never require GDPR not lead GDPR.</li>
              <li><span class='tw:font-semibold'>Configurable:</span> as it is now.</li>
            </ul>
          `,onSelectOption:e[5]||(e[5]=t=>m({gdpr_semaphore:t}))},null,8,["options","selectedOption"])])]),_:1})]),_:1},8,["pageTitle"]))}});let $={};$=window.ai_settings.data;const re=q({setup(){V("aiSettingsData",$)},render:()=>U(le)});re.mount("#main_ai_settings");
