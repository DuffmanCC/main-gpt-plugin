import{d as b,c as v,o as p,a,t as z,z as C,_ as B,i as j,r,k,w as o,e as n,F as G,g as K,f as i,u as y,q,s as U,x as V}from"./style.js";import{b as E,_ as F,c as _}from"./a-text.vue_vue_type_script_setup_true_lang.js";import{_ as w,a as J,d as W}from"./a-select.vue_vue_type_script_setup_true_lang.js";import{a as H}from"./constants.js";import{a as A}from"./tools.js";const M={class:"font-arboria relative mt-8 mr-8 flex flex-col gap-2"},Q={class:"font-bold text-2xl mb-2"},X={class:"flex flex-col gap-6 py-4"},Y=b({__name:"a-page-wrapper",props:{pageTitle:{}},setup(u){return(s,x)=>(p(),v("div",M,[a("h1",Q,z(s.pageTitle),1),a("div",X,[C(s.$slots,"default")])]))}}),Z={},ee={class:"p-6 bg-white rounded-xl flex flex-col gap-8"};function te(u,s){return p(),v("section",ee,[C(u.$slots,"default")])}const h=B(Z,[["render",te]]),ae={class:"flex flex-col gap-3"},ne={class:"mt-4"},se={class:"flex flex-col gap-4"},oe={class:"mt-4"},ie={class:"flex flex-col gap-4"},le=b({__name:"ai-settings",setup(u){const s=j("aiSettingsData");if(!s)throw new Error("aiSettingsData is undefined");const{openAiApiKey:x,openAiOrg:S,pineconeApiKey:O,ajaxAction:D,ajaxNonce:R,ajaxUrl:T,gdprSemaphore:I,pageTitle:L}=s,f=r(x),c=r(S),m=r(O),P=r(I),l=r([]);async function g(d){const e=await W(T,D,R,JSON.stringify(d));e.success?A(l,"success",e.data.message):A(l,"error",e.error,0)}function N(d){l.value=l.value.filter(e=>e.id!==d)}return(d,e)=>(p(),k(Y,{pageTitle:y(L)},{default:o(()=>[n(E,{class:"top-12"},{default:o(()=>[(p(!0),v(G,null,K(l.value,t=>(p(),k(F,{key:t.id,type:t.type,message:t.message,time:t.time,onClose:pe=>N(t.id)},null,8,["type","message","time","onClose"]))),128))]),_:1}),n(h,null,{default:o(()=>[a("div",ae,[e[7]||(e[7]=a("h2",{class:"text-3xl! m-0! font-normal!"},"Pineconne",-1)),e[8]||(e[8]=a("p",{class:"text-xl! m-0! font-light"},[i(" Create an account on "),a("a",{href:"https://www.pinecone.io/",class:"text-blue-500 underline",target:"_blank",rel:"noopener noreferrer"}," Pinecone.io "),i(" and paste the api key below. ")],-1)),n(_,{id:"pinecone_api_key",label:"Pinecone api key",value:m.value,howToLink:"#",createLink:"#",onInput:e[0]||(e[0]=t=>m.value=t)},null,8,["value"]),a("div",ne,[n(w,{onClick:e[1]||(e[1]=t=>g({pinecone_api_key:m.value}))},{default:o(()=>e[6]||(e[6]=[i(" Update ")])),_:1})])]),a("div",se,[e[10]||(e[10]=a("h2",{class:"text-3xl! m-0! font-normal!"},"Open-AI",-1)),e[11]||(e[11]=a("p",{class:"text-xl! m-0! font-light"},[i(" Create an account on "),a("a",{href:"https://openai.com/",class:"text-blue-500 underline",target:"_blank",rel:"noopener noreferrer"}," OpenAI.com "),i(" and paste the api key and organization below. ")],-1)),n(_,{id:"openai_api_key",label:"Open AI api key",value:f.value,howToLink:"#",createLink:"#",onInput:e[2]||(e[2]=t=>f.value=t)},null,8,["value"]),n(_,{id:"openai_organization",label:"Open AI api organization",value:c.value,howToLink:"#",createLink:"#",onInput:e[3]||(e[3]=t=>c.value=t)},null,8,["value"]),a("div",oe,[n(w,{onClick:e[4]||(e[4]=t=>g({openai_api_key:f.value,openai_organization:c.value}))},{default:o(()=>e[9]||(e[9]=[i(" Update ")])),_:1})])])]),_:1}),n(h,null,{default:o(()=>[a("div",ie,[n(J,{id:"gdpr_semaphore",label:"GDPR Configuration",class:"max-w-lg",options:y(H),selectedOption:P.value,help:`
            <ul><li><span class='font-medium'>Always:</span> force AiChatter to always require GDPR for the chatter and for the lead.</li>
              <li><span class='font-medium'>Never:</span> force AiChatter to never require GDPR not lead GDPR.</li>
              <li><span class='font-medium'>Configurable:</span> as it is now.</li>
            </ul>
          `,onSelectOption:e[5]||(e[5]=t=>g({gdpr_semaphore:t}))},null,8,["options","selectedOption"])])]),_:1})]),_:1},8,["pageTitle"]))}});let $={};$=window.ai_settings.data;const re=q({setup(){V("aiSettingsData",$)},render:()=>U(le)});re.mount("#main_ai_settings");
