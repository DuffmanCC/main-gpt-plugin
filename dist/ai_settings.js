import{d as w,c as g,o as r,a,t as D,A as b,_ as B,i as N,r as u,k,w as l,e as n,F as j,g as z,f as o,u as K,q as R,s as P,x as U}from"./style.js";import{b as V,_ as E,c as m}from"./a-text.vue_vue_type_script_setup_true_lang.js";import{_ as y,b as F}from"./requests.js";import{a as A}from"./tools.js";const q={class:"font-arboria relative mt-8 mr-8 flex flex-col gap-2"},J={class:"font-bold text-2xl mb-2"},W={class:"flex flex-col gap-6 py-4"},G=w({__name:"a-page-wrapper",props:{pageTitle:{}},setup(d){return(s,v)=>(r(),g("div",q,[a("h1",J,D(s.pageTitle),1),a("div",W,[b(s.$slots,"default")])]))}}),H={},M={class:"p-6 bg-white rounded-xl flex flex-col gap-8"};function Q(d,s){return r(),g("section",M,[b(d.$slots,"default")])}const X=B(H,[["render",Q]]),Y={class:"flex flex-col gap-3"},Z={class:"mt-4"},ee={class:"flex flex-col gap-4"},te={class:"mt-4"},ae=w({__name:"ai-settings",setup(d){const s=N("aiSettingsData");if(!s)throw new Error("aiSettingsData is undefined");const{openAiApiKey:v,openAiOrg:S,pineconeApiKey:C,ajaxAction:h,ajaxNonce:T,ajaxUrl:I,pageTitle:L}=s,f=u(v),c=u(S),_=u(C),i=u([]);async function x(p){const e=await F(I,h,T,JSON.stringify(p));e.success?A(i,"success",e.data.message):A(i,"error",e.error,0)}function O(p){i.value=i.value.filter(e=>e.id!==p)}return(p,e)=>(r(),k(G,{pageTitle:K(L)},{default:l(()=>[n(V,{class:"top-12"},{default:l(()=>[(r(!0),g(j,null,z(i.value,t=>(r(),k(E,{key:t.id,type:t.type,message:t.message,time:t.time,onClose:se=>O(t.id)},null,8,["type","message","time","onClose"]))),128))]),_:1}),n(X,null,{default:l(()=>[a("div",Y,[e[6]||(e[6]=a("h2",{class:"text-3xl! m-0! font-normal!"},"Pineconne",-1)),e[7]||(e[7]=a("p",{class:"text-xl! m-0! font-light"},[o(" Create an account on "),a("a",{href:"https://www.pinecone.io/",class:"text-blue-500 underline",target:"_blank",rel:"noopener noreferrer"}," Pinecone.io "),o(" and paste the api key below. ")],-1)),n(m,{id:"pinecone_api_key",label:"Pinecone api key",value:_.value,howToLink:"#",createLink:"#",onInput:e[0]||(e[0]=t=>_.value=t)},null,8,["value"]),a("div",Z,[n(y,{onClick:e[1]||(e[1]=t=>x({pinecone_api_key:_.value}))},{default:l(()=>e[5]||(e[5]=[o(" Update ")])),_:1})])]),a("div",ee,[e[9]||(e[9]=a("h2",{class:"text-3xl! m-0! font-normal!"},"Open-AI",-1)),e[10]||(e[10]=a("p",{class:"text-xl! m-0! font-light"},[o(" Create an account on "),a("a",{href:"https://openai.com/",class:"text-blue-500 underline",target:"_blank",rel:"noopener noreferrer"}," OpenAI.com "),o(" and paste the api key and organization below. ")],-1)),n(m,{id:"openai_api_key",label:"Open AI api key",value:f.value,howToLink:"#",createLink:"#",onInput:e[2]||(e[2]=t=>f.value=t)},null,8,["value"]),n(m,{id:"openai_organization",label:"Open AI api organization",value:c.value,howToLink:"#",createLink:"#",onInput:e[3]||(e[3]=t=>c.value=t)},null,8,["value"]),a("div",te,[n(y,{onClick:e[4]||(e[4]=t=>x({openai_api_key:f.value,openai_organization:c.value}))},{default:l(()=>e[8]||(e[8]=[o(" Update ")])),_:1})])])]),_:1})]),_:1},8,["pageTitle"]))}});let $={};$=window.ai_settings.data;const ne=R({setup(){U("aiSettingsData",$)},render:()=>P(ae)});ne.mount("#main_ai_settings");
